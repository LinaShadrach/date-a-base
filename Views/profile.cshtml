<!DOCTYPE html>
@{
  Layout="Shared/_Layout.cshtml";
}

@if(Model.ContainsKey("message"))
{
  <h3>@Model["message"]</h3>
}
<div class="container">
  <div class="row">
  <div class="col-md-2">
    <img src="@Model["user"].GetProfilePhoto().Url" alt="profile picture" id="profilePic"/>
    <h4><a href="/profile/@Model["user"].Id">My Profile</a></h4>
    <h4><a href="/users">View All Profiles</a></h4>
    <h4><a href="/user/messages">View Messages</a></h4>
    <br>
    <h4 id="log-out-h4"><a href="/logout">Log-Out</a></h4>
  </div>
  <div class="col-md-10 well">
    <h2>@Model["user"].FirstName @Model["user"].LastName</h2>
    <img src="@Model["profilePic"]" alt="profile picture" id="profilePic"/>
    <h3>@Model["user"].TagLine</h3>
    <h4>@Model["user"].Genders seeking @Model["user"].SeekGenders</h4>
    <h4>username: @Model["user"].UserName</h4>
    <p>about me: @Model["user"].AboutMe</p>
    <h6>zip-code: @Model["user"].ZipCode</h6>
    <h6>email: @Model["user"].Email</h6>
    <a href="/user/@Model["user"].Id/photo/@Model["profilePic"].Id"><img src="@Model["profilePic"].Url" alt="profile picture" id="profilePic"/></a>



  @if(Model.ContainsKey("state"))
  {
    @if(Model["state"] == true)
    {
      @if (Model["messageList"].Count > 0)
      {
        <h3>Unread Messages</h3>
        <hr>
        @foreach (var message in Model["messageList"])
        {
          <h4><a href="/user/messages/@message.Id">From: @message.SenderId</a></h4>
        }
      }
      <h4><a href="/user/update">Edit Profile</a></h4>
    }
    @if(Model["state"] == false)
      {
        <button type="button" name="update" class="btn btn-info"><a href="/user/@Model["user"].Id/message/send">Message @Model["user"].UserName</a></button>
        <hr>
      }
    }

    </div>
  </div>
</div>
